(this["webpackJsonptodo-with-hooks"]=this["webpackJsonptodo-with-hooks"]||[]).push([[0],{42:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),s=n(13),o=n.n(s),i=(n(42),n(15)),u=n(3),j=n(68),l=Object(a.createContext)(),d=function(){var e=Object(a.useContext)(l),t=e.alert,n=e.hide;return Object(c.jsx)(j.a,{in:t.visible,timeout:{enter:500,exit:350},classNames:"alert",mountOnEnter:!0,unmountOnExit:!0,children:Object(c.jsxs)("div",{className:"alert alert-".concat(t.type||"warning"," alert-dismissible"),children:[Object(c.jsx)("strong",{children:"Attention! "}),t.text,Object(c.jsx)("button",{onClick:n,type:"button",className:"close","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})},b=function(){return Object(c.jsxs)("nav",{className:"navbar navbar-dark navbar-expand-lg bg-primary",children:[Object(c.jsx)("div",{className:"navbar-brand",children:"Note App"}),Object(c.jsxs)("ul",{className:"navbar-nav",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(i.b,{className:"nav-link",to:"/",exact:!0,children:"Home"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(i.b,{className:"nav-link",to:"/about",children:"About us"})})]})]})},O=n(12),h=n(4),x="alertReducer/SHOW_ALERT",f="alertReducer/HIDE_ALERT",p=function(e,t){switch(t.type){case x:return Object(h.a)(Object(h.a)(Object(h.a)({},e),t.payload),{},{visible:!0});case f:return Object(h.a)(Object(h.a)({},e),{},{visible:!1});default:return e}},m=function(e){var t=e.children,n=Object(a.useReducer)(p,{visible:!1}),r=Object(O.a)(n,2),s=r[0],o=r[1];return Object(c.jsx)(l.Provider,{value:{show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";o({type:x,payload:{text:e,type:t}})},hide:function(){o({type:f})},alert:s},children:t})},v=n(11),N=n.n(v),g=n(18),w=n(19),y=n.n(w),E=Object(a.createContext)(),k=n(34),C="firebaseReducer/SHOW_LOADER",R="firebaseReducer/ADD_NOTE",S="firebaseReducer/FETCH_NOTES",T="firebaseReducer/REMOVE_NOTE",A=function(e,t){switch(t.type){case C:return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case R:return Object(h.a)(Object(h.a)({},e),{},{notes:[].concat(Object(k.a)(e.notes),[t.payload])});case S:return Object(h.a)(Object(h.a)({},e),{},{notes:t.payload,loading:!1});case T:return Object(h.a)(Object(h.a)({},e),{},{notes:e.notes.filter((function(e){return e.id!==t.id}))});default:return e}},D="https://react-hooks-ddae2-default-rtdb.firebaseio.com",F=function(e){var t=e.children,n=Object(a.useReducer)(A,{notes:[],loading:!1}),r=Object(O.a)(n,2),s=r[0],o=r[1],i=function(){return o({type:C})},u=function(){var e=Object(g.a)(N.a.mark((function e(){var t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(),e.next=3,y.a.get("".concat(D,"/notes.json"));case 3:t=e.sent,n=Object.keys(t.data).map((function(e){return Object(h.a)(Object(h.a)({},t.data[e]),{},{id:e})})),o({type:S,payload:n});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(g.a)(N.a.mark((function e(t){var n,c,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:t,date:(new Date).toJSON()},e.prev=1,e.next=4,y.a.post("".concat(D,"/notes.json"),n);case 4:c=e.sent,a=Object(h.a)(Object(h.a)({},n),{},{id:c.data.name}),o({type:R,payload:a}),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(g.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat(D,"/notes/").concat(t,".json"));case 2:o({type:T,id:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(E.Provider,{value:{showLoader:i,fetchNotes:u,addNote:j,removeNote:l,loading:s.loading,notes:s.notes},children:t})},L=function(){return Object(c.jsx)("div",{className:"jumbotron",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{className:"display-4",children:"About us"}),Object(c.jsx)("p",{className:"lead",children:"This is our not a great app for daily memos."})]})})},_=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),n=t[0],r=t[1],s=Object(a.useContext)(l),o=Object(a.useContext)(E);return Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault(),n.trim()?(o.addNote(n.trim()).then((function(){s.show("Note was created","success")})).catch((function(e){s.show("Somthing is wrong ...","danger")})),s.show("Note was created","success"),r("")):s.show("Enter a title for the note!")},children:Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter a title for the note",value:n,onChange:function(e){return r(e.target.value)}})})})},H=function(){return Object(c.jsx)("div",{className:"center",children:Object(c.jsx)("div",{className:"spinner-border",role:"status"})})},I=n(69),P=function(e){var t=e.notes,n=e.onRemove,a=e.alert;return Object(c.jsx)(I.a,{component:"ul",className:"list-group",children:t.map((function(e){return Object(c.jsx)(j.a,{classNames:"noteItem",timeout:800,children:Object(c.jsxs)("li",{className:"list-group-item note",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:e.title}),Object(c.jsx)("small",{children:e.date})]}),Object(c.jsx)("button",{onClick:function(){n(e.id),a.show("Note was deleted","danger")},type:"button",className:"btn btn-outline-danger btn-sm",children:"\xd7"})]})},e.id)}))})},J=function(){var e=Object(a.useContext)(E),t=e.notes,n=e.loading,r=e.fetchNotes,s=e.removeNote,o=Object(a.useContext)(l);return Object(a.useEffect)((function(){r()}),[]),Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)(_,{}),Object(c.jsx)("hr",{}),n?Object(c.jsx)(H,{}):Object(c.jsx)(P,{notes:t,onRemove:s,alert:o})]})};var B=function(){return Object(c.jsx)(F,{children:Object(c.jsx)(m,{children:Object(c.jsxs)(i.a,{children:[Object(c.jsx)(b,{}),Object(c.jsxs)("div",{className:"container pt-4",children:[Object(c.jsx)(d,{}),Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{path:"/",exact:!0,render:function(){return Object(c.jsx)(J,{})}}),Object(c.jsx)(u.a,{path:"/about",render:function(){return Object(c.jsx)(L,{})}}),Object(c.jsx)(u.a,{path:"/",render:function(){return Object(c.jsx)("h1",{children:"404"})}})]})]})]})})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(B,{})}),document.getElementById("root")),M()}},[[67,1,2]]]);
//# sourceMappingURL=main.a072f8a6.chunk.js.map